(this["webpackJsonpshare-your-knowledge"]=this["webpackJsonpshare-your-knowledge"]||[]).push([[0],{11:function(e,t,a){e.exports={toolBar:"TextEditor_toolBar__170ZO",contentTextareaWrapper:"TextEditor_contentTextareaWrapper__2YfFb",contentTextarea:"TextEditor_contentTextarea__3tgNo",buttonGroupButton:"TextEditor_buttonGroupButton__1Uffj",styleModifierActive:"TextEditor_styleModifierActive__LBU2W",dropdownModifier:"TextEditor_dropdownModifier__v_z2K",popupForm:"TextEditor_popupForm__o3XX5"}},13:function(e,t,a){e.exports={article:"Article_article__1uI8w",singleArticle:"Article_singleArticle__N0WJf",title:"Article_title__2wzzh",categories:"Article_categories__1Wa3W",category:"Article_category__QBCrH",content:"Article_content__xWhvA",metadata:"Article_metadata__1SUSn",readMore:"Article_readMore__3Cn5l"}},17:function(e,t,a){e.exports={header:"Header_header__3CDt1",title:"Header_title__1hsBZ",quote:"Header_quote__35q4-",login:"Header_login__3FmDR"}},18:function(e,t,a){e.exports={form:"ArticleForm_form__2Tnzd",input:"ArticleForm_input__KGsnr",categoriesInput:"ArticleForm_categoriesInput__1k0Vy",textEditor:"ArticleForm_textEditor__3iXVH",addButton:"ArticleForm_addButton__1Qc0m"}},19:function(e,t,a){e.exports={container:"Notification_container__2E4Yw",visible:"Notification_visible__1yttz",title:"Notification_title__1CAtk",message:"Notification_message__l5-Wz",success:"Notification_success__3VOr9",info:"Notification_info__29MM5",error:"Notification_error__3rkl2"}},27:function(e,t,a){e.exports={wrapper:"Navigation_wrapper__1x4vp",item:"Navigation_item__2L9n3",active:"Navigation_active__15iV_"}},32:function(e,t,a){e.exports={container:"Loader_container__1hUHV",ldsRipple:"Loader_ldsRipple__Ce-O4","lds-ripple":"Loader_lds-ripple__EGnCL"}},33:function(e,t,a){e.exports={wrapper:"FooterNavigation_wrapper__1zpVE",disabled:"FooterNavigation_disabled__3lgKl",pageNumber:"FooterNavigation_pageNumber__26M-y"}},39:function(e,t,a){e.exports={article:"NotFound_article__lM-k6",title:"NotFound_title__1qY1w",content:"NotFound_content__EjOIL",metadata:"NotFound_metadata__1-VvB",readMore:"NotFound_readMore__3I6IM"}},41:function(e,t,a){e.exports=a(69)},46:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(37),i=a.n(c),o=(a(46),a(5)),l=a(4),s=a(3),u=a(17),m=a.n(u),d=a(26),f=a.n(d);a(63);f.a.initializeApp({apiKey:"AIzaSyCtAEHX_bvg7e5raeshPtIuPuxwvfNVdy0",authDomain:"shareyourknowledge-31824.firebaseapp.com",databaseURL:"https://shareyourknowledge-31824.firebaseio.com",projectId:"shareyourknowledge-31824",storageBucket:"shareyourknowledge-31824.appspot.com",messagingSenderId:"894714443306",appId:"1:894714443306:web:424e5b24165fdc0700b553",measurementId:"G-QPXEN2N4WV"}),f.a.analytics();var p=f.a,b=a(24),g=a(25),v=a(21),E=a.n(v),h=a(2),_=a(29),O=function(){function e(){Object(b.a)(this,e)}return Object(g.a)(e,null,[{key:"getArticles",value:function(){var t=Object(_.a)(E.a.mark((function t(a){var n,r,c,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n={limit:a.limit||1,startAfter:a.startAfter||null,sort:a.sort||"desc",categories:a.categories||[]},c=[],i=e.db.collection("articles").orderBy("date",n.sort),!n.startAfter){t.next=10;break}return t.next=6,e.db.collection("articles").doc(n.startAfter).get();case 6:if((r=t.sent).exists){t.next=9;break}return t.abrupt("return",new Promise((function(e,t){t({error:"DOCUMENT_MISSED",description:"There is not specified document in storage. Check the query parameters."})})));case 9:i=i.startAfter(r);case 10:return i=e._categoriesToQuery(i,n.categories),t.next=13,i.limit(n.limit).get();case 13:return t.sent.forEach((function(e){c.push(Object(h.a)(Object(h.a)({},e.data()),{},{id:e.id}))})),t.abrupt("return",new Promise((function(e,t){e(c)})));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getArticleByID",value:function(){var t=Object(_.a)(E.a.mark((function t(a){var n,r;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.db.collection("articles").doc(a),t.next=3,n.get();case 3:if((r=t.sent).exists){t.next=6;break}return t.abrupt("return",new Promise((function(e,t){t({error:"DOCUMENT_MISSED",description:"There is not specified document in storage. Check the document ID."})})));case 6:return t.abrupt("return",new Promise((function(e,t){e(Object(h.a)({id:r.id},r.data()))})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"addArticle",value:function(t){if(!t.title||!t.content)throw new Error('At least article object should have non-empty "title" and "content" fields');return e.db.collection("articles").add({title:t.title,categories:t.categories,content:t.content,autorh:"Valerii Boiko",date:new Date})}},{key:"getAdminEmails",value:function(){return new Promise((function(t,a){e.db.collection("admins").get().then((function(e){var a=[];e.forEach((function(e){a.push(e.data().email)})),t(a)})).catch((function(e){throw new Error(e)}))}))}}]),e}();O.db=p.firestore(),O.getCategories=function(){var e=[];return new Promise((function(t,a){O.db.collection("categories").get().then((function(a){a.forEach((function(t){e.push(t.data().name)})),t(e)})).catch((function(e){throw new Error(e)}))}))},O._categoriesToQuery=function(e,t){var a=e;return t.forEach((function(e){a=a.where("categories."+e,"==",!0)})),a};var j=O,N=function(){function e(){Object(b.a)(this,e)}return Object(g.a)(e,null,[{key:"loginWithPopUp",value:function(){return new Promise((function(t,a){p.auth().signInWithPopup(e.provider).then((function(e){e.user&&j.getAdminEmails().then((function(n){n.indexOf(e.user.email)>=0?t(e.user):a(new Error("You need to have Sigmetix corporate account to login successfully. Enjoy the reading"))}))})).catch((function(e){throw new Error(e)}))}))}},{key:"logOut",value:function(){p.auth().signOut()}}]),e}();N.provider=new p.auth.GoogleAuthProvider;var y=N;var w=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),c=a[0],i=a[1],u=c?"#":"/login",d=c?"icon-logout":"icon-login",f=Object(o.g)();return p.auth().onAuthStateChanged((function(e){i(!!e)})),r.a.createElement("div",{className:m.a.header},r.a.createElement("h1",{className:m.a.title},"Share your knowledge, bleat'!"),r.a.createElement("div",{className:m.a.quote},r.a.createElement("h3",null,"\u201cShare your knowledge. It is a way to achieve immortality.\u201d"),r.a.createElement("h3",null,"\u2015 Dalai Lama XIV")),r.a.createElement("span",{className:m.a.limiter}),r.a.createElement(l.b,{to:u},r.a.createElement("span",{className:m.a.login+" "+d,onClick:function(e){e.preventDefault(),c?(y.logOut(),f.push("/feed")):y.loginWithPopUp().then((function(e){f.push("/create-article")})).catch((function(e){alert(e.message),y.logOut(),f.push("/feed")}))}})))},A="SET_PAGE",C="SET_ARTICLES",x="SET_CURRENT_ARTICLE",k="SET_URL_PARAMS",T="SET_IS_FIRST",S="SET_IS_LAST",I="SET_NEW_ARTICLE_TITLE",L="SET_NEW_ARTICLE_CATEGORIES",P="SET_NEW_ARTICLE_AUTHOR",F="SET_NEW_ARTICLE_CONTENT",D="SET_SELECTION_MODIFIERS",U="SET_NOTIFICATION",B="SET_ARTICLES_PER_PAGE",M=function(e){return{type:x,id:e}},R=function(e){return{type:C,articles:e}},G=function(e){return{type:S,value:e}},W=function(e){return{type:T,value:e}},V=function(e){return{type:D,modifiers:e}},H=function(e){return{type:U,notification:e}},z=function(e,t){switch(t.type){case A:return Object(h.a)(Object(h.a)({},e),{},{currentPage:t.pageNumber});case C:return Object(h.a)(Object(h.a)({},e),{},{articles:t.articles});case x:return Object(h.a)(Object(h.a)({},e),{},{currentArticleId:t.id});case k:return Object(h.a)(Object(h.a)({},e),{},{urlParams:t.params});case T:return Object(h.a)(Object(h.a)({},e),{},{isFirst:t.value});case S:return Object(h.a)(Object(h.a)({},e),{},{isLast:t.value});case I:return Object(h.a)(Object(h.a)({},e),{},{newArticle:Object(h.a)(Object(h.a)({},e.newArticle),{},{title:t.title})});case P:return Object(h.a)(Object(h.a)({},e),{},{newArticle:Object(h.a)(Object(h.a)({},e.newArticle),{},{author:t.author})});case L:return Object(h.a)(Object(h.a)({},e),{},{newArticle:Object(h.a)(Object(h.a)({},e.newArticle),{},{categories:t.categories})});case F:return Object(h.a)(Object(h.a)({},e),{},{newArticle:Object(h.a)(Object(h.a)({},e.newArticle),{},{content:t.content})});case D:return Object(h.a)(Object(h.a)({},e),{},{newArticle:Object(h.a)(Object(h.a)({},e.newArticle),{},{modifiers:t.modifiers})});case U:return Object(h.a)(Object(h.a)({},e),{},{notification:t.notification});case B:return Object(h.a)(Object(h.a)({},e),{},{articlesPerPage:t.value});default:return e}},q={articles:[],articlesPerPage:3,currentPage:0,currentArticleId:null,urlParams:{},isLast:!1,isFirst:!1,newArticle:{title:"",categories:{},content:"",modifiers:[]},notification:{visible:!1,message:"",title:"",type:"",time:0}},K=Object(n.createContext)(q),X=K.Provider,Q=function(e){var t=e.children,a=Object(n.useReducer)(z,q),c=Object(s.a)(a,2),i=c[0],o=c[1];return r.a.createElement(X,{value:{state:i,dispatch:o}},t)};var Y=function(e){for(var t=Object(n.useState)({}),a=Object(s.a)(t,2),r=a[0],c=a[1],i={},l=new URLSearchParams(Object(o.h)().search).entries(),u=l.next(),m=!1;!u.done;)i[u.value[0]]=u.value[1],u=l.next();if(Object.keys(i).length!==Object.keys(r).length)m=!0;else for(var d in i)if(i.hasOwnProperty(d)&&i[d]!=r[d]){m=!0;break}m&&(e(i,r),c(i))},J=a(39),Z=a.n(J);var $=function(e){return r.a.createElement("div",{className:Z.a.article},r.a.createElement("h2",null,"Page not found"))},ee=a(32),te=a.n(ee);var ae=function(e){return r.a.createElement("div",{className:te.a.container},r.a.createElement("div",{className:te.a.ldsRipple},r.a.createElement("div",null),r.a.createElement("div",null)))},ne=a(13),re=a.n(ne),ce=a(33),ie=a.n(ce);var oe=function(e){var t=e.children.map((function(e,t){return e.props.disabled?r.a.cloneElement(e,Object(h.a)(Object(h.a)({},e.props),{},{key:t,className:e.props.className+" "+ie.a.disabled})):e}));return r.a.createElement("div",{className:ie.a.wrapper+" "+e.className},t)};var le=function(e){var t,a=e.isSingle,c=e.isSingle?r.a.createElement("h1",{className:re.a.title},e.title):r.a.createElement("h2",{className:re.a.title},r.a.createElement(l.b,{to:"/article/".concat(e.id),onClick:e.onOpenArticle},e.title)),i=Object.keys(e.categories).map((function(e){return r.a.createElement(l.b,{key:e,className:re.a.category,to:"/feed/?categories="+e},e)}));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:re.a.article+" "+a?re.a.singleArticle:""},c,r.a.createElement("div",{className:re.a.categories},i),r.a.createElement("div",{className:re.a.content},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:e.content}})),r.a.createElement("div",{className:re.a.metadata},r.a.createElement("span",null,e.author),!a&&r.a.createElement("span",{className:re.a.readMore},r.a.createElement(l.b,{to:"/article/".concat(e.id),onClick:e.onOpenArticle},"Read More")),r.a.createElement("span",null,(t=e.date.seconds,new Date(1e3*t).toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}))))),r.a.createElement(oe,{className:"footer-navigation"},r.a.createElement(l.b,{disabled:e.isFirst,to:"/article/",onClick:e.onPrev},"Newer articles"),r.a.createElement(l.b,{to:"/feed"},"Go to feed"),r.a.createElement(l.b,{disabled:e.isLast,to:"/article/",onClick:e.onNext},"Older articles")))};var se=function(e){var t=Object(o.g)(),a=Object(n.useContext)(K),c=a.state,i=a.dispatch,l=Object(n.useState)(null),u=Object(s.a)(l,2),m=u[0],d=u[1],f=Object(n.useState)(!0),p=Object(s.a)(f,2),b=p[0],g=p[1],v=Object(o.i)(),E=null===e.preview||!e.preview,_=function(){j.getArticleByID(v.id).then((function(e){d(e),g(!1)})).catch((function(e){if("DOCUMENT_MISSED"===e.error)return r.a.createElement($,null)}))},O=function(e){g(!0),j.getArticles({limit:1,startAfter:c.currentArticleId,sort:"prev"===e?"asc":"desc"}).then((function(a){a[0]?(t.push("/article/"+a[0].id),d(a[0]),i(M(a[0].id)),i("prev"===e?W(!1):G(!1))):i("prev"===e?W(!0):G(!0)),g(!1)})).catch((function(e){throw new Error(e)}))};return Object(n.useEffect)((function(){if(E)i(M(v.id)),i(W(!1)),_();else{var t=e.content.replace(/<h\d>.*?<\/h\d>/gim,""),a=Object(h.a)(Object(h.a)({},e),{},{content:t.substring(0,750)+" ..."});d(a),g(!1)}}),[]),Object(n.useEffect)((function(){m&&E&&c.currentArticleId!==m.id&&(t.push("/article/"+c.currentArticleId),_())}),[c.currentArticleId]),b?r.a.createElement(ae,null):r.a.createElement(le,Object.assign({},m,{onOpenArticle:function(){window.scrollTo({top:0}),i(M(m.id))},isSingle:E,onPrev:function(e){e.preventDefault(),c.isFirst||O("prev")},onNext:function(e){e.preventDefault(),c.isLast||O("next")},isFirst:c.isFirst,isLast:c.isLast}))};var ue=function(e){var t=e.articles.sort((function(e,t){return t.date.seconds-e.date.seconds}));return t=t.map((function(e){return r.a.createElement(se,Object.assign({key:e.id},e,{preview:!0}))})),r.a.createElement("div",null,t)};var me=function(e){var t=Object(n.useContext)(K),a=t.state,c=t.dispatch,i=a.urlParams;return Y((function(e){window.scrollTo({top:0}),c(function(e){return{type:k,params:e}}(e))})),Object(n.useEffect)((function(){var e=i.categories?i.categories.split(/,\s*/):[];j.getArticles({limit:a.articlesPerPage+1,startAfter:i.startAfter,sort:i.sort,categories:e}).then((function(e){e.length<a.articlesPerPage+1?c(R(e)):c(R(e.slice(0,e.length-1))),c(G(function(e,t,a){var n=!1;return e.length<t+1&&(!a.sort||"desc"==a.sort)&&(n=!0),n}(e,a.articlesPerPage,i))),c(W(function(e,t,a){var n=!1;return(e.length<t+1&&"asc"==a.sort||!Object.keys(a).length)&&(n=!0),n}(e,a.articlesPerPage,i)))})).catch((function(e){console.log(e)}))}),[a.urlParams]),r.a.createElement(ue,{articles:a.articles})};var de=function(e){var t=Object(n.useContext)(K).state,a=t.articles.length?"/feed?sort=desc&startAfter="+t.articles[t.articles.length-1].id:"/feed",c=t.articles.length?"/feed?sort=asc&startAfter="+t.articles[0].id:"/feed";return r.a.createElement(oe,{className:"footer-navigation"},r.a.createElement(l.b,{disabled:t.isFirst,to:c,onClick:function(e){t.isFirst&&e.preventDefault()}},"Newer articles"),r.a.createElement(l.b,{to:"/feed"},"Go to first page"),r.a.createElement(l.b,{disabled:t.isLast,to:a,onClick:function(e){t.isLast&&e.preventDefault()}},"Older articles"))},fe=a(27),pe=a.n(fe);var be=function(e){var t=Object(n.useContext)(K).state.urlParams,a=Object(n.useState)([]),c=Object(s.a)(a,2),i=c[0],u=c[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),f=d[0],p=d[1],b=Object(o.g)();Object(n.useEffect)((function(){j.getCategories().then((function(e){u(e)}))}),[]),Object(n.useEffect)((function(){var e=t.categories?t.categories.split(/,\s*/):[];p(e)}),[t.categories]);var g=i.map((function(e){var t=f.indexOf(e)>=0?pe.a.active:"";return r.a.createElement(l.b,{className:pe.a.item+" "+t,to:"/feed",key:e,onClick:function(t){return function(e,t){e.preventDefault();var a=f.indexOf(t)>=0,n=f;a?n=n.filter((function(e){return e!==t})):n.push(t),b.push("/feed/?categories="+n.join(","))}(t,e)}},"# ",e)}));return r.a.createElement("div",{className:pe.a.wrapper+" "+e.className},g)},ge=a(18),ve=a.n(ge),Ee=a(11),he=a.n(Ee);var _e=function(e){var t=Object(n.useContext)(K).state.newArticle.modifiers,a=[{value:"p",label:"None"},{value:"h2",label:"Header 2"},{value:"h3",label:"Header 3"},{value:"h4",label:"Header 4"}].map((function(e){var t=i(e.value.toUpperCase());return r.a.createElement("option",{value:e.value,selected:t,key:e.value},e.label)})),c=[{command:"bold",value:"B",label:"B"},{command:"italic",value:"I",label:"I"},{command:"strikeThrough",value:"STRIKE",label:"S"}].map((function(t){return r.a.createElement("a",{className:"buttonGroupButton "+he.a.buttonGroupButton+" "+i(t.value,"active"),key:t.value,href:"#",onClick:function(a){a.preventDefault(),e.applyModifier(t.command,t.value)}},t.label)}));function i(e){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.indexOf(e)>=0;return n&&a?a:n}return r.a.createElement("div",{className:e.className},r.a.createElement("div",{className:he.a.toolBar},r.a.createElement("div",{className:"buttonGroup"},c),r.a.createElement("select",{className:he.a.dropdownModifier,id:"",onChange:function(t){e.applyModifier("formatBlock",t.currentTarget.value.toUpperCase(),t.currentTarget.value)}},a),r.a.createElement("div",{className:"buttonGroup"},r.a.createElement("a",{className:"icon-code-1 buttonGroupButton "+he.a.buttonGroupButton+" "+i("CODE","active"),href:"#",onClick:function(t){t.preventDefault(),e.applyCodeStyle("code",document.getSelection())}}),r.a.createElement("a",{className:"icon-th-list buttonGroupButton "+he.a.buttonGroupButton+" "+i("UL","active"),href:"#",onClick:function(t){t.preventDefault(),e.applyModifier("insertUnorderedList")}}),r.a.createElement("div",{className:"buttonGroupButton "+he.a.buttonGroupButton,tabIndex:"0",onClick:function(t){t.preventDefault(),e.toggleLinkFormVisibility()}},r.a.createElement("span",{className:"icon-link "}),e.isLinkFormVisible&&r.a.createElement("form",{className:he.a.popupForm},r.a.createElement("input",{value:e.linkUrl,onChange:function(t){e.onLinkUrlChange(t.currentTarget.value)},className:"text-input",name:"url",type:"text",placeholder:"URL"}),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.applyModifier("createLink",null,e.linkUrl)}},"ADD"))),r.a.createElement("div",{className:"buttonGroupButton "+he.a.buttonGroupButton,tabIndex:"0",onClick:function(t){return t.preventDefault(),e.toggleImageFormVisibility(),!1}},r.a.createElement("span",{className:"icon-picture "}),e.isImageFormVisible&&r.a.createElement("form",{className:he.a.popupForm},r.a.createElement("input",{value:e.imageUrl,onChange:function(t){e.onImageUrlChange(t.currentTarget.value)},className:"text-input",name:"image",type:"text",placeholder:"Image URL"}),r.a.createElement("button",{onClick:function(t){t.preventDefault(),e.applyLink("insertImage",e.imageUrl)}},"ADD"))))))};var Oe=function(e){var t=Object(n.useContext)(K),a=t.state,c=t.dispatch,i=Object(n.useState)(!1),o=Object(s.a)(i,2),l=o[0],u=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),f=d[0],p=d[1],b=Object(n.useState)(!1),g=Object(s.a)(b,2),v=g[0],E=g[1],h=Object(n.useState)(""),_=Object(s.a)(h,2),O=_[0],j=_[1],N=a.newArticle.modifiers,y=function(e){c(V(e))};return r.a.createElement(_e,Object.assign({},e,{isLinkFormVisible:l,isImageFormVisible:v,linkUrl:f,onLinkUrlChange:p,imageUrl:O,onImageUrlChange:j,applyModifier:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;document.execCommand(e,!1,a),t&&(-1===N.indexOf(t)?y(N.concat(t)):y(N.filter((function(e){return e!==t}))))},applyCodeStyle:function(e,t){if(e=e.toUpperCase(),-1===N.indexOf(e)&&t.toString().length)y(N.concat(e)),document.execCommand("insertHTML",!1,"<".concat(e,">").concat(t.toString(),"</").concat(e,">&nbsp;"));else if(y(N.filter((function(t){return t!==e}))),t.focusNode&&t.focusNode.parentElement.nodeName===e){var a=t.focusNode.parentElement;a.parentNode.replaceChild(document.createTextNode(a.textContent),a)}},toggleLinkFormVisibility:function(){u(!l)},toggleImageFormVisibility:function(){E(!v)}}))};var je=function(e){var t=Object(n.useContext)(K).dispatch,a=function(){if(document.getSelection().focusNode){for(var e=[],a=document.getSelection().focusNode.parentElement;a.dataset&&"contentEditor"!==a.dataset.id&&"contentEditorWrapper"!==a.dataset.id;){var n=a.nodeName;a.className.length&&(n+="."+a.className.toUpperCase()),e.push(n),a=a.parentNode}t(V(e))}};return r.a.createElement("div",{className:e.className},r.a.createElement(Oe,null),r.a.createElement("div",{"data-id":"contentEditorWrapper",className:he.a.contentTextareaWrapper},r.a.createElement("div",{"data-id":"contentEditor","data-placeholder":"You know what you have to do ...",className:"textarea "+he.a.contentTextarea,contentEditable:!0,onClick:a,onKeyPress:a,onInput:function(t){e.onContentChange(t.currentTarget.innerHTML)}})))};var Ne=function(e){return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("form",{action:"",className:ve.a.form,onSubmit:function(e){return e.preventDefault}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("input",{type:"text",className:ve.a.input+" text-input ",placeholder:"Title",onChange:e.onTitleChange}),r.a.createElement("input",{type:"text",className:ve.a.input+" text-input "+ve.a.categoriesInput,placeholder:"react, idx, php, laravel ...",onChange:e.onCategoryChange})),r.a.createElement(je,{className:ve.a.textEditor,onContentChange:e.onContentChange})))};var ye=function(e){var t=Object(n.useContext)(K),a=t.state,c=t.dispatch,i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),p=f[0],b=f[1],g=function(e,t){c(H({type:t,visible:!0,title:e,time:3e3})),setTimeout((function(){c(H({type:null,visible:!1,title:"",time:0}))}),3e3)},v=function(){m(!0),p&&j.addArticle(a.newArticle).then((function(){m(!1),g("Success!","success")})).catch((function(e){m(!1),g("Error happend :( Try again.","error")}))};return Object(n.useEffect)((function(){a.newArticle.title&&a.newArticle.content&&a.newArticle.categories.length?p||b(!0):p&&b(!1)}),[a.newArticle]),u?r.a.createElement(ae,null):r.a.createElement(n.Fragment,null,r.a.createElement(Ne,{onTitleChange:function(e){var t=e.currentTarget.value;t&&c(function(e){return{type:I,title:e}}(t))},onCategoryChange:function(e){var t=/[\w\d\-_]/,a=e.currentTarget.value.split(/,\s?/).filter((function(e){return t.test(e)})),n={};a.forEach((function(e){n[e]=!0})),a&&c(function(e){return{type:L,categories:e}}(a))},onContentChange:function(e){e&&c(function(e){return{type:F,content:e}}(e))},onSubmit:v}),r.a.createElement(oe,{className:"footer-navigation"},r.a.createElement(l.b,{to:"/feed"},"Back to feed"),r.a.createElement(l.b,{disabled:!p,onClick:function(){p?v():g("Fill in all form fields","error")}},"Publish article")))},we=a(19),Ae=a.n(we);var Ce=function(e){var t=Object(n.useState)(e.visible),a=Object(s.a)(t,2),c=a[0],i=a[1],o=e.type;return Object(n.useEffect)((function(){i(!0),setTimeout((function(){i(!1)}),e.time-350)}),[]),r.a.createElement("div",{className:"".concat(Ae.a.container," ").concat(Ae.a[o]," ").concat(c?Ae.a.visible:"")},r.a.createElement("h3",{className:Ae.a.title},e.title),r.a.createElement("p",{className:Ae.a.message},e.message))},xe=a(40);var ke=function(e){var t=e.children,a=Object(xe.a)(e,["children"]),c=Object(n.useState)(null),i=Object(s.a)(c,2),l=i[0],u=i[1];return p.auth().onAuthStateChanged((function(e){u(!!e)})),null===l?r.a.createElement(ae,null):r.a.createElement(o.b,Object.assign({},a,{render:function(e){var a=e.location;return l?t:r.a.createElement(o.a,{to:{pathname:"/feed",state:{from:a}}})}}))};var Te=function(){Object(o.g)();var e=Object(n.useContext)(K).state;return r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},e.notification.visible&&r.a.createElement(Ce,{type:e.notification.type,title:e.notification.title,message:e.notification.message,time:e.notification.time}),r.a.createElement("div",{className:"content"},r.a.createElement(w,null)),r.a.createElement(be,{className:"main-navigation"}),r.a.createElement("div",{className:"content main-content"},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/article/:id"},r.a.createElement(se,{isSingle:!0})),r.a.createElement(o.b,{path:"/feed"},r.a.createElement(me,null),r.a.createElement(de,{className:"footer-navigation"})),r.a.createElement(ke,{path:"/create-article"},r.a.createElement(ye,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(Q,null,r.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.5dfef6b6.chunk.js.map